<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TransferRequestJsonPacket.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Waarp OpenR66</a> &gt; <a href="index.source.html" class="el_package">org.waarp.openr66.protocol.localhandler.packet.json</a> &gt; <span class="el_source">TransferRequestJsonPacket.java</span></div><h1>TransferRequestJsonPacket.java</h1><pre class="source lang-java linenums">/*
 * This file is part of Waarp Project (named also Waarp or GG).
 *
 *  Copyright (c) 2019, Waarp SAS, and individual contributors by the @author
 *  tags. See the COPYRIGHT.txt in the distribution for a full listing of
 * individual contributors.
 *
 *  All Waarp Project is free software: you can redistribute it and/or
 * modify it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or (at your
 * option) any later version.
 *
 * Waarp is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License along with
 * Waarp . If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
package org.waarp.openr66.protocol.localhandler.packet.json;

import com.fasterxml.jackson.annotation.JsonAutoDetect;
import com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility;
import com.fasterxml.jackson.annotation.JsonIgnore;
import org.waarp.openr66.database.data.DbTaskRunner;
import org.waarp.openr66.protocol.configuration.PartnerConfiguration;
import org.waarp.openr66.protocol.localhandler.packet.LocalPacketFactory;

import java.util.Date;

/**
 * Transfer request JSON packet
 */
@JsonAutoDetect(fieldVisibility = Visibility.NONE, getterVisibility = Visibility.ANY, setterVisibility = Visibility.ANY)
<span class="fc" id="L35">public class TransferRequestJsonPacket extends JsonPacket {</span>

  protected static final byte REQVALIDATE = 0;

  protected static final byte REQANSWERVALIDATE = 1;

  protected String rulename;

  protected int mode;

  protected String filename;

  protected String requested;

  protected int blocksize;

  protected int rank;

  protected long specialId;

  protected byte validate;

  protected long originalSize;

<span class="fc" id="L59">  protected String fileInformation = &quot;&quot;;</span>

<span class="fc" id="L61">  protected String separator = PartnerConfiguration.BAR_JSON_FIELD;</span>

  protected Date start;

  protected boolean isAdditionalDelay;

  protected long delay;

  /**
   * @return the isAdditionalDelay
   */
  public final boolean isAdditionalDelay() {
<span class="fc" id="L73">    return isAdditionalDelay;</span>
  }

  /**
   * @param isAdditionalDelay the isAdditionalDelay to set
   */
  public final void setAdditionalDelay(final boolean isAdditionalDelay) {
<span class="nc" id="L80">    this.isAdditionalDelay = isAdditionalDelay;</span>
<span class="nc" id="L81">  }</span>

  /**
   * @return the delay
   */
  public final long getDelay() {
<span class="fc" id="L87">    return delay;</span>
  }

  /**
   * @param delay the delay to set
   */
  public final void setDelay(final long delay) {
<span class="nc" id="L94">    this.delay = delay;</span>
<span class="nc" id="L95">  }</span>

  /**
   * @return the start
   */
  public final Date getStart() {
<span class="fc" id="L101">    return start;</span>
  }

  /**
   * @param start the start to set
   */
  public final void setStart(final Date start) {
<span class="fc" id="L108">    this.start = start;</span>
<span class="fc" id="L109">  }</span>

  /**
   * @return the requested
   */
  public final String getRequested() {
<span class="fc" id="L115">    return requested;</span>
  }

  /**
   * @param requested the requested to set
   */
  public final void setRequested(final String requested) {
<span class="fc" id="L122">    this.requested = requested;</span>
<span class="fc" id="L123">  }</span>

  /**
   * @return the rulename
   */
  public final String getRulename() {
<span class="fc" id="L129">    return rulename;</span>
  }

  /**
   * @param rulename the rulename to set
   */
  public final void setRulename(final String rulename) {
<span class="fc" id="L136">    this.rulename = rulename;</span>
<span class="fc" id="L137">  }</span>

  /**
   * @return the mode
   */
  public final int getMode() {
<span class="fc" id="L143">    return mode;</span>
  }

  /**
   * @param mode the mode to set
   */
  public final void setMode(final int mode) {
<span class="nc" id="L150">    this.mode = mode;</span>
<span class="nc" id="L151">  }</span>

  /**
   * @return the filename
   */
  public final String getFilename() {
<span class="fc" id="L157">    return filename;</span>
  }

  /**
   * @param filename the filename to set
   */
  public final void setFilename(final String filename) {
<span class="fc" id="L164">    this.filename = filename;</span>
<span class="fc" id="L165">  }</span>

  /**
   * @return the blocksize
   */
  public final int getBlocksize() {
<span class="fc" id="L171">    return blocksize;</span>
  }

  /**
   * @param blocksize the blocksize to set
   */
  public final void setBlocksize(final int blocksize) {
<span class="nc" id="L178">    this.blocksize = blocksize;</span>
<span class="nc" id="L179">  }</span>

  /**
   * @return the rank
   */
  public final int getRank() {
<span class="fc" id="L185">    return rank;</span>
  }

  /**
   * @param rank the rank to set
   */
  public final void setRank(final int rank) {
<span class="nc" id="L192">    this.rank = rank;</span>
<span class="nc" id="L193">  }</span>

  /**
   * @return the specialId
   */
  public final long getSpecialId() {
<span class="fc" id="L199">    return specialId;</span>
  }

  /**
   * @param specialId the specialId to set
   */
  public final void setSpecialId(final long specialId) {
<span class="nc" id="L206">    this.specialId = specialId;</span>
<span class="nc" id="L207">  }</span>

  /**
   * @return the validate
   */
  public final byte getValidate() {
<span class="fc" id="L213">    return validate;</span>
  }

  /**
   * @return True if is to validate
   */
  public final boolean isToValidate() {
<span class="pc bpc" id="L220" title="1 of 2 branches missed.">    return validate == REQVALIDATE;</span>
  }

  /**
   * @param validate the validate to set
   */
  public final void setValidate(final byte validate) {
<span class="nc" id="L227">    this.validate = validate;</span>
<span class="nc" id="L228">  }</span>

  /**
   * Validate the request
   */
  public final void validate() {
<span class="nc" id="L234">    validate = REQANSWERVALIDATE;</span>
<span class="nc" id="L235">  }</span>

  /**
   * @return the originalSize
   */
  public final long getOriginalSize() {
<span class="fc" id="L241">    return originalSize;</span>
  }

  /**
   * @param originalSize the originalSize to set
   */
  public final void setOriginalSize(final long originalSize) {
<span class="nc" id="L248">    this.originalSize = originalSize;</span>
<span class="nc" id="L249">  }</span>

  /**
   * @return the fileInformation
   */
  public final String getFileInformation() {
<span class="fc" id="L255">    return fileInformation;</span>
  }

  /**
   * @param fileInformation the fileInformation to set
   */
  public final void setFileInformation(String fileInformation) {
<span class="fc bfc" id="L262" title="All 2 branches covered.">    if (fileInformation == null) {</span>
<span class="fc" id="L263">      fileInformation = &quot;&quot;;</span>
    }
<span class="fc" id="L265">    this.fileInformation = fileInformation;</span>
<span class="fc" id="L266">  }</span>

  /**
   * @return the separator
   */
  public final String getSeparator() {
<span class="fc" id="L272">    return separator;</span>
  }

  /**
   * @param separator the separator to set
   */
  public final void setSeparator(final String separator) {
<span class="nc" id="L279">    this.separator = separator;</span>
<span class="nc" id="L280">  }</span>

  /**
   * Update the JsonPacket from runner (blocksize, rank, specialid)
   *
   * @param runner
   */
  @JsonIgnore
  public final void setFromDbTaskRunner(final DbTaskRunner runner) {
<span class="nc" id="L289">    blocksize = runner.getBlocksize();</span>
<span class="nc" id="L290">    rank = runner.getRank();</span>
<span class="nc" id="L291">    specialId = runner.getSpecialId();</span>
<span class="nc" id="L292">    originalSize = runner.getOriginalSize();</span>
<span class="nc" id="L293">  }</span>

  @Override
  public final void setRequestUserPacket() {
<span class="fc" id="L297">    setRequestUserPacket(LocalPacketFactory.REQUESTPACKET);</span>
<span class="fc" id="L298">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>